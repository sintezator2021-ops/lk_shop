<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–∏–ª—ñ–∫–æ–Ω–æ–≤—ñ –∫—ñ–ª—å—Ü—è-–º–∞—Ä–∫–µ—Ä–∏ –¥–ª—è –±–æ–∫–∞–ª—ñ–≤</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f6f2ea;
      --ink: #1f1b18;
      --muted: #655c55;
      --accent: #ff7a59;
      --accent-2: #0f8f9c;
      --card: #fff;
      --stroke: rgba(0,0,0,0.08);
      --shadow: 0 16px 46px rgba(0,0,0,0.12);
      --radius: 16px;
      --max: 1180px;
      --panel-bg: linear-gradient(120deg, rgba(15,143,156,0.26), rgba(255,122,89,0.22));
      --logo-extra-size: 350px;
      --logo-extra-offset-x: -90px;
      --logo-extra-offset-y: -80px;
      --logo-extra-scale: 1;
      --logo-extra-opacity: 0.7; /* –ó–º—ñ–Ω—ñ—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è (0-1), —â–æ–± –∑–∞–¥–∞—Ç–∏ –ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–æ–∫–∞–ª—ñ–≤ */
    }
    * { box-sizing: border-box; }
    html, body {
      width: 100%;
      max-width: 100%;
      overflow-x: hidden;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    body {
      margin: 0;
      font-family: "Manrope", system-ui, sans-serif;
      background: linear-gradient(145deg, #f6f2ea, #f0ebe2);
      color: var(--ink);
      line-height: 1.6;
      min-height: 100vh;
    }
    html::-webkit-scrollbar,
    body::-webkit-scrollbar { display: none; }
    body::-webkit-scrollbar { display: none; }
    .wrap { max-width: var(--max); margin: 0 auto; padding: 24px 18px 70px; }
    header { display: grid; grid-template-columns: 1fr 1fr; align-items: center; gap: 24px; padding: 14px 18px; border-radius: 14px; border: 1px solid var(--stroke); box-shadow: var(--shadow); background: var(--panel-bg); margin-bottom: 18px; }
    .logo-block { display: grid; gap: 8px; align-items: start; }
    .logo { display: grid; gap: 4px; font-family: "Space Grotesk", "Manrope", sans-serif; font-weight: 700; }
    .logo small { color: var(--muted); font-weight: 600; }
    .logo-img { width: 90px; max-width: 100%; height: auto; display: block; border-radius: 12px; }
    .logo-extra-wrap {
  position: relative;
  width: 100%;
  height: 220px;     /* –∑–∞–¥–∞—î–º–æ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É –≤–∏—Å–æ—Ç—É */
  overflow: visible; /* –≤–∞–∂–ª–∏–≤–æ */
  pointer-events: none;
}

    .logo-extra {mask-image: linear-gradient(#000 100%, #000 100%); -webkit-mask-image: linear-gradient(#000 100%, #000 100%); width: var(--logo-extra-size);  max-width: none; max-height: none; height: auto; display: block; object-fit: contain; filter: drop-shadow(0 10px 18px rgba(0,0,0,0.16)); transform: translate(var(--logo-extra-offset-x), var(--logo-extra-offset-y)) scale(var(--logo-extra-scale)); transform-origin: center; will-change: transform; opacity: var(--logo-extra-opacity); }
    .badges { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .pill { padding: 8px 12px; border-radius: 999px; border: 1px solid var(--stroke); background: var(--card); font-weight: 700; box-shadow: 0 8px 20px rgba(0,0,0,0.05); }
    section { background: var(--panel-bg); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); margin-top: 18px; }
    h1, h2 { margin: 0 0 10px; font-family: "Space Grotesk", "Manrope", sans-serif; letter-spacing: -0.01em; }
    p { margin: 0 0 12px; color: var(--muted); }
    .hero {overflow: visible; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; align-items: center; background: linear-gradient(120deg, rgba(255,255,255,0.98), rgba(255,249,245,0.92)); }
    .hero-panel { background: var(--panel-bg); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 18px; box-shadow: var(--shadow); display: grid; gap: 12px; }
    .hero-image { text-align: center; background: none; border: none; border-radius: 0; padding: 0; box-shadow: none; margin-top: 18px; }
    .hero-image img { max-width: 100%; border-radius: 12px; display: block; margin: 0 auto; }
    .eyebrow { display: inline-flex; align-items: center; gap: 10px; padding: 8px 12px; border-radius: 12px; background: rgba(255,122,89,0.12); color: #b44221; font-weight: 700; text-transform: uppercase; letter-spacing: 0.03em; font-size: 13px; }
    .lead { font-size: 17px; }
    .price-row { display: inline-flex; flex-wrap: wrap; align-items: center; gap: 12px; padding: 10px 12px; border-radius: 12px; border: 1px solid var(--stroke); background: var(--panel-bg); box-shadow: 0 8px 20px rgba(0,0,0,0.06); }
    .price { display: inline-flex; gap: 10px; align-items: baseline; font-weight: 800; font-size: 26px; }
    .price .old { text-decoration: line-through; color: var(--muted); font-size: 17px; font-weight: 600; }
    .stock-pill { padding: 8px 12px; border-radius: 12px; background: rgba(15,143,156,0.12); color: #0f8f9c; font-weight: 700; border: 1px solid rgba(15,143,156,0.2); }
    .chips { display: flex; gap: 6px; flex-wrap: wrap; }
    .chip { padding: 8px 12px; border-radius: 10px; border: 1px solid var(--stroke); background: var(--panel-bg); font-weight: 700; color: var(--ink); }
    .cta-row { display: flex; gap: 10px; flex-wrap: wrap; }
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 14px 18px; border-radius: 12px; border: none; cursor: pointer; font-weight: 700; font-size: 15px; text-decoration: none; transition: all 160ms ease; }
    .btn-primary { background: linear-gradient(120deg, #ff8a64, #ff6f52); color: #1d0f07; box-shadow: 0 14px 34px rgba(255,112,82,0.35); }
    .btn-primary:hover { transform: translateY(-2px); }
    .btn-ghost { background: var(--card); border: 1px solid var(--stroke); color: var(--ink); }
    .order-banner { margin-top: 18px; width: 100%; padding: 0; background: var(--panel-bg); border: 1px solid var(--stroke); border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; }
    .order-banner .btn { width: 100%; font-size: 16px; border-radius: var(--radius); padding: 18px; display: block; }
    .hero-visual { position: relative; min-height: auto; border-radius: var(--radius); overflow: hidden; background: #111; box-shadow: var(--shadow); }
    .hero-visual img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; }
    .overlay { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(0,0,0,0) 10%, rgba(0,0,0,0.6) 90%); }
    .badge-stack { position: absolute; left: 14px; bottom: 14px; display: grid; gap: 8px; z-index: 2; }
    .mini-badge { display: inline-flex; gap: 8px; align-items: center; padding: 10px 12px; border-radius: 10px; background: rgba(255,255,255,0.9); font-weight: 700; box-shadow: 0 12px 30px rgba(0,0,0,0.18); }
    .grid { display: grid; gap: 10px; }
    .cols-3 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    .cols-4 { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
    .card { padding: 14px; border-radius: 14px; border: 1px solid var(--stroke); background: var(--panel-bg); box-shadow: 0 12px 30px rgba(0,0,0,0.06); }
    .step-flow { display: grid; gap: 12px; margin-top: 12px; }
    .step-item { display: grid; grid-template-columns: auto 1fr; align-items: center; gap: 12px; padding: 12px 14px; border-radius: 14px; background: var(--panel-bg); color: var(--ink); box-shadow: var(--shadow); border: 1px solid var(--stroke); }
    .step-icon { width: 56px; height: 56px; border-radius: 14px; background: rgba(255,255,255,0.92); display: inline-flex; align-items: center; justify-content: center; font-weight: 800; font-size: 18px; color: var(--accent-2); box-shadow: 0 10px 22px rgba(0,0,0,0.12); transition: transform 200ms ease; }
    .step-icon.playing { transform: scale(1.2); }
    .step-icon img { width: 32px; height: 32px; object-fit: contain; }
    .step-body { display: grid; gap: 4px; }
    .step-body strong { color: var(--ink); font-size: 16px; }
    .step-body p { margin: 0; color: var(--muted); }
    .swatch { display: flex; align-items: center; gap: 10px; padding: 12px 14px; border-radius: 12px; border: 1px solid var(--stroke); background: var(--panel-bg); font-weight: 700; }
    .dot { width: 18px; height: 18px; border-radius: 50%; border: 1px solid rgba(0,0,0,0.12); }
    .cta-block { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; align-items: center; border: 1px dashed rgba(0,0,0,0.12); background: var(--panel-bg); }
    form.order-form { display: grid; gap: 12px; padding: 14px; border-radius: 14px; border: none; background: transparent; box-shadow: none; }
    .order-form label { display: grid; gap: 6px; font-weight: 700; }
    .order-form input { padding: 12px; border-radius: 10px; border: 1px solid var(--stroke); font-size: 15px; font-family: inherit; transition: all 160ms ease; }
    .order-form input:focus { border-color: var(--accent); outline: none; box-shadow: 0 0 0 3px rgba(255,122,89,0.28); }
    .opacity-control { display: grid; gap: 6px; margin-top: 12px; font-weight: 700; }
    .opacity-control input[type="range"] { width: 100%; accent-color: var(--accent); }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.2); display: none; align-items: center; justify-content: center; z-index: 50; padding: 16px; }
    .modal.show { display: flex; }
    .modal-card { background: #f0e2d8; border: none; border-radius: 16px; box-shadow: 0 24px 64px rgba(0,0,0,0.2); max-width: 420px; width: 100%; padding: 20px; position: relative; }
    .modal-close { position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 20px; cursor: pointer; }
    .toast { position: fixed; bottom: 16px; right: 16px; padding: 14px 16px; border-radius: 12px; background: #1b1b1b; color: #fff; box-shadow: 0 18px 40px rgba(0,0,0,0.24); opacity: 0; pointer-events: none; transform: translateY(8px); transition: opacity 160ms ease, transform 160ms ease; z-index: 20; max-width: 320px; line-height: 1.5; }
    .toast.show { opacity: 1; transform: translateY(0); pointer-events: auto; }
    footer { margin-top: 14px; text-align: center; color: var(--muted); font-size: 13px; }
    @media (max-width: 720px) { .cta-row { flex-direction: column; } header { align-items: flex-start; } }
  </style>
    <!-- Meta Pixel Code -->
 <script>
  !function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1399829308154119');
fbq('track', 'PageView');
 </script>
  <noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1399829308154119&ev=PageView&noscript=1"/> 
  </noscript>
<!-- End Meta Pixel Code -->
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo-block">
        <div class="logo">
          <span>L&K_ShopUA</span>
          <small>–ú–∞—Ä–∫–µ—Ä–∏ –¥–ª—è –±–æ–∫–∞–ª—ñ–≤ 12—à—Ç</small>
        </div>
        <img class="logo-img" src="images/color.png" alt="–ö–æ–ª—å–æ—Ä–∏ –º–∞—Ä–∫–µ—Ä—ñ–≤">
      </div>
      <div class="logo-extra-wrap">
        <img class="logo-extra" src="images/bokals.png" alt="–ë–æ–∫–∞–ª–∏ –∑ –∫—ñ–ª—å—Ü—è–º–∏-–º–∞—Ä–∫–µ—Ä–∞–º–∏">
      </div>
    </header>

    <main>
      <section  class="grid cols-4" id="hero">
          <div class="eyebrow">–ó–Ω–∏–∂–∫–∞ -45% –¥–æ –∫—ñ–Ω—Ü—è —Ç–∏–∂–Ω—è</div>
          <div class="price-row">
            <div class="price"><span>199 –≥—Ä–Ω</span><span class="old">349 –≥—Ä–Ω</span></div>
            <div class="stock-pill">–ó–∞–ª–∏—à–∏–ª–æ—Å—å: <span data-stock></span> —à—Ç.</div>
          </div>
          <div class="chips">
            <span class="chip">–ó—Ä—É—á–Ω–æ</span>
            <span class="chip">–°—Ç–∏–ª—å–Ω–æ</span>
            <span class="chip">–ü—Ä–∞–∫—Ç–∏—á–Ω–æ</span>
          </div>
          <div class="cta-row">
            <button class="btn btn-primary" type="button" data-scroll-target="#order-bottom-btn">–ó–∞–º–æ–≤–∏—Ç–∏ –Ω–∞–±—ñ—Ä</button>
          </div>
      </section>

      <section class="hero-image" aria-label="–ö–æ–ª—å–æ—Ä–æ–≤—ñ –∫—ñ–ª—å—Ü—è-–º–∞—Ä–∫–µ—Ä–∏ –Ω–∞ –±–æ–∫–∞–ª–∞—Ö">
        <img src="images/Marker1.JPG" alt="–ö–æ–ª—å–æ—Ä–æ–≤—ñ –∫—ñ–ª—å—Ü—è-–º–∞—Ä–∫–µ—Ä–∏ –Ω–∞ –±–æ–∫–∞–ª–∞—Ö">
      </section>

      
      
      <section id="benefits">
        <h2>‚≠êÔ∏è–î—É–∂–µ –∫–æ—Ä–∏—Å–Ω–∏–π –∞–∫—Å–µ—Å—É–∞—Ä –Ω–∞ –≤–µ—á—ñ—Ä—Ü—ñü•Ç</h2>
        <div class="grid cols-4">
          <div class="card"><strong>–ë—ñ–ª—å—à–µ –Ω—ñ—è–∫–æ—ó –ø–ª—É—Ç–∞–Ω–∏–Ω–∏</strong><p>12 —Ä—ñ–∑–Ω–∏—Ö –∫–æ–ª—å–æ—Ä—ñ–≤ –≤—ñ–¥—Ä–∞–∑—É –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –¥–µ —á–∏–π –∫–µ–ª–∏—Ö</p></div>
          <div class="card"><strong>–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –Ω–∞ –±—É–¥—å —è–∫–∏–π –∫–µ–ª–∏—Ö</strong><p>–õ–µ–≥–∫–∞ –Ω–∞—Ç—è–∂–∫–∞ 1.7 —Å–º —Ñ—ñ–∫—Å—É—î –∫—ñ–ª—å—Ü–µ, –≤–æ–Ω–æ –Ω–µ –∫–æ–≤–∑–∞—î –π –Ω–µ —Å–ø–æ–≤–∑–∞—î</p></div>
          <div class="card"><strong>–í—ñ—á–Ω—ñ</strong><p>–ü–æ—Ä–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ, –±—É–¥—É—Ç—å —Å–ª—É–∂–∏—Ç–∏ –±–∞–≥–∞—Ç–æ —Ä–æ–∫—ñ–≤</p></div>
        </div>
      </section>

      <section id="delivery">
        <h2>–Ø–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
        <div class="step-flow">
          <div class="step-item">
            <div class="step-icon"><img src="images/check1.png" data-static="images/check1.png" data-gif="images/check1.gif" data-gif-duration="2000" alt="–ó–∞–ª–∏—à–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è"></div>
            <div class="step-body">
              <strong>–ó–∞–ª–∏—à–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</strong>
              <p>–û—Ñ–æ—Ä–º—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ, –≤–∫–∞–∑–∞–≤—à–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ</p>
            </div>
          </div>
          <div class="step-item">
            <div class="step-icon"><img src="images/support.png" data-static="images/support.png" data-gif="images/suport.gif" data-gif-duration="2000" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–≤'—è–∂–µ—Ç—å—Å—è –∑ –≤–∞–º–∏"></div>
            <div class="step-body">
              <strong>–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–≤'—è–∂–µ—Ç—å—Å—è –∑ –≤–∞–º–∏</strong>
              <p>–£—Ç–æ—á–Ω–∏–º–æ –¥–µ—Ç–∞–ª—ñ, —Å–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å</p>
            </div>
          </div>
          <div class="step-item">
            <div class="step-icon"><img src="images/truck.png" data-static="images/truck.png" data-gif="images/truck.gif" data-gif-duration="2000" alt="–ú–∏ –≤—ñ–¥–ø—Ä–∞–≤–∏–º–æ –ø–æ—Å–∏–ª–∫—É"></div>
            <div class="step-body">
              <strong>–ú–∏ –≤—ñ–¥–ø—Ä–∞–≤–∏–º–æ –ø–æ—Å–∏–ª–∫—É</strong>
              <p>–ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –º–∏ —à–≤–∏–¥–∫–æ –≤—ñ–¥–ø—Ä–∞–≤–∏–º–æ –≤–∞—à—É –ø–æ—Å–∏–ª–∫—É</p>
            </div>
          </div>
          <div class="step-item">
            <div class="step-icon"><img src="images/check2.png" data-static="images/check2.png" data-gif="images/check2.gif" data-gif-duration="2000" alt="–û—Ç—Ä–∏–º—É–π—Ç–µ —Ç–∞ –æ–ø–ª–∞—á—É–π—Ç–µ"></div>
            <div class="step-body">
              <strong>–û—Ç—Ä–∏–º—É–π—Ç–µ —Ç–∞ –æ–ø–ª–∞—á—É–π—Ç–µ</strong>
              <p>–û—Ç—Ä–∏–º–∞–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –æ–ø–ª–∞—á—É–π—Ç–µ —É –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—ñ –Ω–∞ –ø–æ—à—Ç—ñ</p>
            </div>
          </div>
        </div>
      </section>

      <section id="order-bottom" class="order-banner">
        <button class="btn btn-primary" type="button" id="order-bottom-btn" data-open-order>–ó–∞–º–æ–≤–∏—Ç–∏ –Ω–∞–±—ñ—Ä</button>
      </section>

      

  <div class="modal" id="order-modal" aria-hidden="true">
    <div class="modal-card">
      <button class="modal-close" type="button" data-close-modal aria-label="–ó–∞–∫—Ä–∏—Ç–∏">&times;</button>
      <form class="order-form" data-order-form>
        <input type="hidden" name="product" value="–ú–∞—Ä–∫–µ—Ä–∏">
        <label>
          <span>–Ü–º'—è</span>
          <input type="text" name="name" placeholder="–û–ª–µ–∫—Å—ñ–π" required>
        </label>
        <label>
          <span>–¢–µ–ª–µ—Ñ–æ–Ω</span>
          <input type="tel" name="phone" placeholder="+380..." inputmode="tel" autocomplete="tel" pattern="[0-9+()\- ]{7,}" required>
        </label>
        <button class="btn btn-primary" type="submit">–ó–∞–º–æ–≤–∏—Ç–∏</button>
      </form>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    const STOCK_LEFT = 10;
    const ORDER_ENDPOINT = 'https://api.lkshop.website/order';
    const BLANK_GIF = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';

    const toast = document.getElementById('toast');
    let toastTimer = null;
    const showToast = (text) => {
      if (!toast) return;
      toast.textContent = text;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove('show'), 4200);
    };

    const sendOrder = async (name, phone, product) => {
  const res = await fetch(ORDER_ENDPOINT, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      name,
      phone,
      product: product || '–∫—ñ–ª—å—Ü—è'
    })
  });
  return res.ok;
};

    const renderStock = () => {
      document.querySelectorAll('[data-stock]').forEach((node) => { node.textContent = STOCK_LEFT; });
    };

    const attachOrderForm = (form) => {
      const submitBtn = form.querySelector('button[type="submit"]');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const name = (formData.get('name') || '').toString().trim() || '–∫–ª—ñ—î–Ω—Ç';
        const phone = (formData.get('phone') || '').toString().trim();
        const product = (formData.get('product') || '–∫—ñ–ª—å—Ü—è').toString();
        if (!phone) {
          showToast('–í–∫–∞–∂—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É, —â–æ–± –º–∏ –º–æ–≥–ª–∏ –≤–∞–º –ø–µ—Ä–µ–¥–∑–≤–æ–Ω–∏—Ç–∏.');
          return;
        }
        
        if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = '–í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ...'; }
        let ok = false;
        try { ok = await sendOrder(name, phone, product); }
        catch (err) { console.error('Order failed', err); }
        if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = '–ó–∞–º–æ–≤–∏—Ç–∏ –∑—ñ –∑–Ω–∏–∂–∫–æ—é'; }
        form.reset();
        if (ok && typeof fbq === 'function') {
            fbq('track', 'Purchase', {
              value: 199,
             currency: 'UAH'
           });
           showToast(`–î—è–∫—É—î–º–æ, ${name}! –ú–∏ –ø–µ—Ä–µ—Ç–µ–ª–µ—Ñ–æ–Ω—É—î–º–æ –Ω–∞ ${phone}.`);

        } else {
          showToast('–ó–∞—è–≤–∫—É –∑–∞–ø–∏—Å–∞–ª–∏, –∞–ª–µ –Ω–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–µ–∫–µ–Ω–¥/–º–µ—Ä–µ–∂—É.');
        }
      });
    };

    const initModal = () => {
      const modal = document.getElementById('order-modal');
      if (!modal) return;
      const modalCard = modal.querySelector('.modal-card');
      const closeBtn = modal.querySelector('[data-close-modal]');
      const openers = document.querySelectorAll('[data-open-order]');

      const openModal = () => {
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
      };
      const closeModal = () => {
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
      };

      openers.forEach((btn) => btn.addEventListener('click', openModal));
      if (closeBtn) closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (!modalCard) return;
        if (e.target === modal) closeModal();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
      });
    };

    const initScrollLinks = () => {
      document.querySelectorAll('[data-scroll-target]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const target = document.querySelector(btn.getAttribute('data-scroll-target'));
          if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
        });
      });
    };

    const initGifSequence = () => {
      const delivery = document.getElementById('delivery');
      if (!delivery) return;
      const imgs = Array.from(delivery.querySelectorAll('.step-icon img'));
      if (!imgs.length) return;
      let active = false;
      let timers = [];
      const clearTimers = () => { timers.forEach(clearTimeout); timers = []; };
      const resetToStatic = () => {
        imgs.forEach((img) => {
          const staticSrc = img.getAttribute('data-static');
          if (staticSrc) img.src = staticSrc;
          img.parentElement?.classList.remove('playing');
        });
      };
      const playFrom = (idx) => {
        if (!active) return;
        if (idx >= imgs.length) {
          timers.push(setTimeout(() => { if (active) playFrom(0); }, 200));
          return;
        }
        const img = imgs[idx];
        const gifSrc = img.getAttribute('data-gif');
        const staticSrc = img.getAttribute('data-static');
        const duration = parseInt(img.getAttribute('data-gif-duration') || '2000', 10);
        if (!gifSrc) return playFrom(idx + 1);
        imgs.forEach((i) => i.parentElement?.classList.remove('playing'));
        img.parentElement?.classList.add('playing');
        img.src = BLANK_GIF;
        void img.offsetHeight; // force reflow
        img.src = gifSrc;
        timers.push(setTimeout(() => {
          if (staticSrc) img.src = staticSrc;
          img.parentElement?.classList.remove('playing');
          playFrom(idx + 1);
        }, duration));
      };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            if (active) return;
            active = true;
            playFrom(0);
          } else {
            active = false;
            clearTimers();
            resetToStatic();
          }
        });
      }, { threshold: 0.35 });
      observer.observe(delivery);
    };

    renderStock();
    document.querySelectorAll('[data-order-form]').forEach(attachOrderForm);
    initModal();
    initScrollLinks();
    initGifSequence();
  </script>
</body>
</html>











